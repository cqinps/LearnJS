# 算术运算符

 JavaScript 共提供10个算术运算符，用来完成基本的算术运算。 

* **加法运算符**：`x + y`
* **减法运算符**： `x - y`
* **乘法运算符**： `x * y`
* **除法运算符**：`x / y`
* **指数运算符**：`x ** y`
* **余数运算符**：`x % y`
* **自增运算符**：`++x` 或者 `x++`
* **自减运算符**：`--x` 或者 `x--`
* **数值运算符**： `+x`
* **负数值运算符**：`-x`

## 加法运算符

```js
1+1 = 2
```

 JavaScript 允许非数值的相加。 

```js
true + true // 2
1 + true // 2
```

上面代码中，第一行是两个布尔值相加，第二行是数值与布尔值相加。这两种情况，布尔值都会自动转成数值，然后再相加。 

**比较特殊的是，如果是两个字符串相加，这时加法运算符会变成连接运算符，返回一个新的字符串，将两个原字符串连接在一起。** 

 如果一个运算子是字符串，另一个运算子是非字符串，这时非字符串会转成字符串，再连接在一起。 

```js
1 + 'a' // "1a"
false + 'a' // "falsea
```

 加法运算符是在运行时决定，到底是执行相加，还是执行连接。也就是说，运算子的不同，导致了不同的语法行为，这种现象称为“重载”（overload）。由于加法运算符存在重载，可能执行两种运算，使用的时候必须很小心。 



 **除了加法运算符，其他算术运算符（比如减法、除法和乘法）都不会发生重载。它们的规则是：所有运算子一律转为数值，再进行相应的数学运算。** 

### 对象的相加

```js
var obj = { p: 1 };
obj + 2 // "[object Object]2"
```

对象的相加分为两步

1. obj.valueOf()
2. obj.valueOf().toString()
3. 并且，toSting会判断，valueOf()返回的值是基本类型(也就是说，typeof判断，只要不是object和function)，那么就不在执行toString()

 这里有一个特例，如果运算子是一个`Date`对象的实例，那么会优先执行`toString`方法。 

```js
var obj = new Date();
obj.valueOf = function () { return 1 };
obj.toString = function () { return 'hello' };

obj + 2 // "hello2"
```

 上面代码中，对象`obj`是一个`Date`对象的实例，并且自定义了`valueOf`方法和`toString`方法，结果`toString`方法优先执行。 

## 余数运算符

 **需要注意的是，运算结果的正负号由第一个运算子的正负号决定。** 

 **所以，为了得到负数的正确余数值，可以先使用绝对值函数。** 

```js
function isOdd(n) {
  return Math.abs(n % 2) === 1;
}
```

 余数运算符还可以用于浮点数的运算。但是，由于浮点数不是精确的值，无法得到完全准确的结果。 

## 自增和自减运算符

```js
var x = 1;
++x // 2
x // 2

--x // 1
x // 1
```

## 数值运算符，负数值运算符

数值运算符（`+`）同样使用加号，但它是一元运算符（只需要一个操作数），而加法运算符是二元运算符（需要两个操作数）。

数值运算符的作用在于可以将任何值转为数值（与`Number`函数的作用相同）。

```js
+true // 1
+[] // 0
+{} // NaN
```

 负数值运算符（`-`），也同样具有将一个值转为数值的功能，只不过得到的值正负相反。连用两个负数值运算符，等同于数值运算符。 

## 指数运算符

 指数运算符（`**`）完成指数运算，前一个运算子是底数，后一个运算子是指数。 

## 赋值运算符

赋值运算符（Assignment Operators）用于给变量赋值。

最常见的赋值运算符，当然就是等号（`=`）。